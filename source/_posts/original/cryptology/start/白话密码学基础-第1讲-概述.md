---
title: (白话密码学基础)第1讲-概述
copyright: true
original: true
date: 2018-03-31 20:16:18
categories: [原创,密码学,基础]
tags: [cryptology]
---
## 密码学介绍
首先我们要对密码学领域有一个清晰的轮廓，由以下几部分组成：
* 密码使用学
    * 对称密码
    * 非对称密码
    * 协议
* 密码分析学
<!-- more --> 

### 密码分析学
可以这么理解，就是用于破解密码的一种学科。通过破解，才能提出一种更加有效安全的加密算法。

### 密码使用学
说白了，就是为了通过使用密文而隐藏自己明文的一种手段。
`小编声明一下：本入门教程主要讲的就是密码使用学`

#### 对称算法
这就是传说中的传统密码学，相距千里的间谍A和间谍B进行交流（姑且不管他们用电报还是邮件），交流的信息都是用同一个密码S加密的，信息到了双方手里，再用这个密码S解密信息。就这么简单。

#### 非对称算法
好吧，这就是现代密码学，还是相距千里的间谍A和间谍B进行交流：间谍A有两个密码，分别为P和C，密码P预先给了间谍B（怎么给都行，被别人看到也行），间谍B把信息用密码P加密，然后把信息再发给间谍A，然后间谍A用自己手里的密码P把信息解密，打开一看：哦，原来间谍B告诉我是要告诉我这么个破事啊。
**这块小编要说说：**
* 密码P可以给任何人看，而密码C要自己保留好，不能让除自己以外的任何人知道。
* 密码C的唯一作用就是，解开用密码P加密的信息。

#### 协议
这就是对密码学算法的使用规则，相距千里的间谍A和间谍B进行交流，怎样传递密码：
1. 对称加密：怎样把密码交给对方？
2. 非对称加密：怎样把密码P传给对方？
3. 协议的内容远不止这些，以后慢慢再讲。

## 对称密码学
某国M的间谍A要发送加密信息给间谍B，发送途中，被另一国N的特务C截取到该加密信息，这里涉及到两个问题：
1. 间谍A是怎样加密自己的机密信息的？
2. 特务C怎样破解该加密信息？

### 替换密码与破译
替换密码的这种加密手段，简单说，就是把要发送的机密信息里的每一个字符，都替换成别的字符。
比如，间谍A要给间谍B发送如下一段信息：
```text
we will meet in the middle of the library at noon
all arrangements are made
```
发送前，间谍A把里面的每个字母都替换了一遍，换成如下加密信息：
```text
iq ifcc vqqr fb rdq vfllcq na rdq cfjwhwz hr bnnb
hcc hwwhbsqvbre hwq vhlq
```
假设间谍A把这段替换后的文字顺利的发送给了间谍B，而每个字母的替换规则间谍A都通过某种不可知的方式告诉了间谍B，因此间谍B只要按照这种规则解密即可。
但是，很不幸，发送途中，特务C截取到了这段加密信息，那他该如何破解这段出这段信息要表达的内容呢？具体有如下三种方案：
1. 获取破解规则
    间谍B要想读取出间谍A给的加密信息，就肯定要从间谍A手里获取到解密规则，这种获取过程中，就是特务C的最佳时机。只要特务C通过各种手段在间谍A和间谍B不知情的情况下，拦截到了解密规则，那以后间谍A和间谍B的各种加密通信，对于特务C来说，根本没有秘密可言。
    小编认为，这种破解方式，也是对称密码算法最致命性的不足，现代对称密码的破解很多情况都是这种原因造成的。
2. 蛮力攻击（穷举法）
    这种方式很容易理解，就好比上述密文中的`iq`，每个字符都尝试一遍，总能获取到明文`we`。但是要想想，上面都密文，加上空格总共有`73个字符`，每个字符都有`27种`种可能，猜猜破解这段密文需要计算多少次，呵呵，上万台高端计算机同时计算，也得几十年。。。
    这种蛮力攻击的破解方式，真不是一种好的解决方式。
3. 字母频率分析
    这种方式很有意思，首先，我们能够知道，在正常的英文交流中，每个字符的出现频率基本是固定的，比如下表:
    <table style="border-collapse:collapse;border-spacing:0"><tr><th style="font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">字母</th><th style="font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">频率</th><th style="font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">字母</th><th style="font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">频率</th></tr><tr><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">A</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0817</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">N</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0675</td></tr><tr><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">B</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0150</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">O</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0751</td></tr><tr><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">C</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0278</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">P</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0193</td></tr><tr><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">D</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0425</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">Q</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0010</td></tr><tr><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">E</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.1270</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">R</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0599</td></tr><tr><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">F</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0223</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">S</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0633</td></tr><tr><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">G</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0202</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">T</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0906</td></tr><tr><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">H</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0609</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">U</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0276</td></tr><tr><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">I</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0697</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">V</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0098</td></tr><tr><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">G</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0015</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">W</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0236</td></tr><tr><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">K</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0077</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">X</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0015</td></tr><tr><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">L</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0403</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">Y</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0197</td></tr><tr><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">M</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.02414</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">Z</td><td style="font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:inherit;text-align:center;vertical-align:top">0.0007</td></tr></table>
    有了这个频率表，再把密文中每个字符出现的频率记录一下，对应上面表里的频率，就能大体上破解出原文的意思了。

为了能够来理解下一节要讲对内容，这里小编要说一下：`解密规则，其实就是用于打开加密信息的密钥`，

## 密码分析
这一小节主要讲的是对称算法中：
1. 推荐使用的密钥长度
上一节中的加密规则讲的是每个字母对应了另一个字母，但是，间谍A完全可以定另一种规则：原文一个字母对应密文中两个字母，或者更多。。这无形中就增加了密钥的复杂度，蛮力攻击基本没有破解可能性了。
2. 对不同加密算法对攻击方式
在现实中的很多情况下，类似特务C这种人，一般是知道间谍A和间谍B之间用的哪种加密算法来交流，如何在这种情况下，还能保证间谍A和间谍B之间的交流正常，这是密码学的一个新的挑战。

### 一般破解密码的思路
1. 经典密码分析：
就是上一节讲的第2、第3中破解方式，通过蛮力或者一些可查阅的规则。
2. 实施攻击：
比如，处理密钥会产生功耗、时间、辐射等信息，根据这些信息来推算密钥，以前银行的磁条卡貌似就可以用这种方式破解出密码。
3. 社会工程攻击
这好说，特务C抓住间谍A，用各种不可描述的手段，总能逼出密码来吧？

### kerckhoffs原理
可靠密码体制，必须是要遵循老外提出的这么一个原理：
`即使除密钥外的整个系统的一切都是公开的，这个密码体制也必须是安全的。尤其是即使攻击者知道加密算法和解密算法，此系统也必须是安全的。`
*ps: 这个原理提出的时候，大清帝国正处在光绪九年。。。*

### 合适的密钥长度
* 当使用蛮力破解密钥成为最佳方案时，才会考虑对称加密算法中密钥长度问题。
* 对称加密算法和非对称加密算法要求的密钥长度完全不同。

## 模运算与多种古典密码
这块会涉及到一些数学问题，耐下心仔细看，很容易理解的

### 模运算






> Cassidy S, Harrington J. Multi-level annotation in the Emu speech database management system.[M]// Understanding Cryptography: A Textbook for Students and Practitioners. Springer Publishing Company, Incorporated, 2010:519-551.
