---
title: POS权益证明解析
mathjax: false
copyright: true
original: true
top: false
notice: false
categories:
  - 原创
  - 区块链
tags:
  - 区块链
  - 共识机制
abbrlink: fd535b82
date: 2018-07-17 11:30:58
---
## POS-权益证明
全称是`Proof of Stake`,可以这么理解：拥有币越多并且持有币时间越长的人，越容易获得记账权。
<!--more-->
POS是预先生成块合法的块，然后判断生成这些块的账户，谁的token最多，那就认为谁的块会被记录在主链中。为了方便理解，小编大概画一张图：
{% asset_img 1.png  每一次生产块的pos流程 %}

上图很形象的解释了pos机制，具体如下描述
1. 持有币的人首先选择是否参与生产块
2. 所有参与者生成合法块，并将各自的块加入`待提议队列S`
3. 队列S中的每个块，根据块生产者持有的token数，将生产者地址以对应次数加入到`待胜选队列Q`中，比如生产者C有3个Token，则在队列Q中加入3次生产者C的地址。
4. 从队列Q中随机选一个地址作为最终胜利者，它对应的块会被追加到主链中（可以看出，队列Q中，拥有token越多的生产者，越容易被认为是最中块的生产者）
`注意，这第3步开始可以设置一个固定间隔时间来操作，比如每隔3秒，这样一来，就可以每3秒钟生产一个块了`

大体上就是这样一个流程，应该算是讲清楚了吧。这里小编有一个关于实现POS机制的源码，有兴趣的同学可以参考一下：
https://github.com/jason-wj/blockchain-demo/tree/master/src/github.com/jason/blockchain-demo/pos

## 优缺点
上面一长串的介绍，详细大家对pos已经有了很深的了解，当然，真实的公链实现要远比上面复杂，但核心基本都一样。
POS的优点：节能：不需要挖矿，不会大量耗费电力和能源。其余优点暂不表态。
从上面原理和实现机制中，我们会发现，持币越多的人，被选中的概率越大，这也会导致一个中心化的问题。有的公链会使用PoW+PoS的双重机制来解决这个问题，通过PoW挖矿发行加密货币，使用PoS维护网络稳定。但小编认为这并不是权宜之计。

>参考自：http://liyuechun.org/
